\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts

% 1. Load essential math packages FIRST
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}

% 2. Load other English-support packages
\usepackage{cite}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{array}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{algorithm}
\usepackage{pdflscape}   % For landscape orientation
\usepackage{multirow}    % For multi-row cells (if needed)
\usepackage{stfloats} % Add to preamble
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{tikz}

% 3. Configure fonts BEFORE polyglossia
\usepackage{fontspec}
\setmainfont{Times New Roman} % Force English font first
\newfontfamily\arabicfont[Script=Arabic]{Amiri} % Arabic font

% 4. Load polyglossia with explicit font preservation
% \usepackage{polyglossia}
% \setdefaultlanguage{english}
% \setotherlanguage{arabic}
% Reaffirm font assignments after polyglossia
% \babelfont{english}{Times New Roman}
% \babelfont{arabic}{Amiri}

% 5. Define \arb command
\newcommand{\arb}[1]{\textarabic{#1}}

% \newfontfamily\hafsFont{UthmanicHafs}[
%     Script=Arabic,
%     Path=./fonts/UthmanicHafs/,
%     Scale=1.1,
%     Extension = .ttf,
%     UprightFont=*-Regular,
%     % BoldFont=*-Bold,
%     % ItalicFont=*-Italic,
%     % BoldItalicFont=*-BoldItalic
% ]
%
% \newcommand{\hafs}[1]{{\hafsFont\arb{#1}}}


% 6. Load hyperref LAST
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    pdfencoding=unicode,
    % pdffont={Times New Roman} % Ensure PDF font matches
}

% Fix section numbering
\makeatletter
\def\@seccntformat#1{\csname the#1\endcsname\quad}
\makeatother

\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}


% Footer configuration
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}


    
\begin{document}

\title{Automatic Pronunciation Error Detection and Correction of the Holy Quranâ€™s Learners Using Deep Learning\\
	% {\footnotesize \textsuperscript{*}Note: Sub-titles are not captured in Xplore and
	% should not be used}
	% \thanks{Identify applicable funding agency here. If none, delete this.}
}

\author{\IEEEauthorblockN{Abdullah Abdelfttah}
\IEEEauthorblockA{\textit{{\footnotesize Computer and Systems Engineering }} \\
\textit{{\footnotesize Faculty of Engineering Ain Shams University}}\\
{\footnotesize Cairo, Egypt} \\
abdullahmlyossef@gmail.com}
\and
\IEEEauthorblockN{Mahmoud I. Khalil}
\IEEEauthorblockA{\textit{{\footnotesize Computer and Systems Engineering }} \\
\textit{{\footnotesize Faculty of Engineering Ain Shams University}}\\
{\footnotesize Cairo, Egypt} \\
mahmoud.khalil@eng.asu.edu.eg}
\and
\IEEEauthorblockN{Hazem Abbas}
\IEEEauthorblockA{\textit{{\footnotesize Computer and Systems Engineering }} \\
\textit{{\footnotesize Faculty of Engineering Ain Shams University}}\\
{\footnotesize Cairo, Egypt} \\
hazem.abbas@eng.asu.edu.eg}
}

\maketitle

\begin{abstract}
	\input{abstract}
\end{abstract}

\begin{IEEEkeywords}
	Mispronunciation Detection Model, Arabic Natural Language Processing, End-to-end Models
\end{IEEEkeywords}

\input{sections/introduction}
\input{sections/related_work}
\input{sections/quran_phoneme_script}
\input{sections/data_preparation}
\input{sections/modeling}
\input{sections/results}
\input{sections/limitations_and_future_work}
\input{sections/conclusion}
\input{sections/acknowledgment}



% \begin{thebibliography}{00}

% \bibliography{references} % Your .bib file

% \end{thebibliography}

% REPLACE WITH THIS:
\bibliographystyle{IEEEtran}
\bibliography{references}


\section*{Appendix}
\addcontentsline{toc}{section}{Appendix}

\input{sections/appendix/phonemes_vocabulary}
\input{sections/appendix/uthmani_to_qps}
\input{sections/appendix/tasmeea_algorithm}
\input{sections/appendix/moshaf_attributes}
\input{sections/appendix/qdat_bench}


\end{document}
